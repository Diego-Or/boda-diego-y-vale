<section id="ubicacion">
  <h2 class="section-title">Ubicación</h2>
  <p class="section-subtitle">Cómo llegar a nuestro evento</p>

  <div class="location-content">
    <!-- Mapa -->
    <div class="map-container">
      <iframe
        [src]="safeMapUrl()"
        style="border:0;"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>

    <!-- Información de ubicación -->
    <div class="location-info">
      @for (card of infoCards(); track card.type) {
        <div class="info-card">
          <h4>{{ card.icon }} {{ card.title }}</h4>

          @if (card.type === 'address') {
            <!-- Dirección -->
            @for (line of getContentAsArray(card.content); track trackByIndex($index)) {
              <p>{{ line }}</p>
            }
            <a
              href="#"
              (click)="openGoogleMaps(); $event.preventDefault()"
              class="btn"
              style="margin-top: 1rem;">
              Abrir en Google Maps
            </a>
          } @else if (card.type === 'transport') {
            <!-- Transporte -->
            @for (line of getContentAsArray(card.content); track trackByIndex($index)) {
              <p [innerHTML]="line"></p>
            }
          } @else if (card.type === 'directions') {
            <!-- Indicaciones -->
            <ol style="text-align: left; padding-left: 1.5rem;">
              @for (direction of getContentAsArray(card.content); track trackByIndex($index)) {
                <li>{{ direction }}</li>
              }
            </ol>
          }
        </div>
      }
    </div>
  </div>
</section>
