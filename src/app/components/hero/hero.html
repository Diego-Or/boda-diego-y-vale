<section id="inicio" class="hero">
  <!-- Video de fondo -->
  <div class="video-background">
    @if (!hasVideoError()) {
      <video
        #heroVideo
        autoplay
        muted
        loop
        playsinline
        [poster]="heroData().videoPoster"
        (loadeddata)="onVideoLoaded()"
        (error)="onVideoError()"
        [class.loaded]="isVideoLoaded()">
        <source [src]="heroData().videoUrl" type="video/mp4">
        Tu navegador no soporta videos HTML5.
      </video>
    }

    <!-- Fallback: imagen si el video falla -->
    @if (hasVideoError()) {
      <div
        class="video-fallback"
        [style.background-image]="'url(' + heroData().videoPoster + ')'">
      </div>
    }

    <!-- Overlay oscuro -->
    <div class="video-overlay"></div>
  </div>

  <!-- Contenido del Hero -->
  <div class="hero-content">
    <h1>{{ coupleNames() }}</h1>
    <p class="date">{{ formattedDate() }}</p>
    <p class="welcome-message">{{ heroData().welcomeMessage }}</p>

    <a
      [href]="heroData().ctaButtonLink"
      class="btn"
      (click)="scrollToSection($event, heroData().ctaButtonLink)">
      {{ heroData().ctaButtonText }}
    </a>

    <!-- Countdown -->
    @if (!isWeddingDay()) {
      <div class="countdown">
        <div class="countdown-item">
          <div class="number">{{ formatNumber(countdown().days) }}</div>
          <div class="label">DÃ­as</div>
        </div>
        <div class="countdown-item">
          <div class="number">{{ formatNumber(countdown().hours) }}</div>
          <div class="label">Horas</div>
        </div>
        <div class="countdown-item">
          <div class="number">{{ formatNumber(countdown().minutes) }}</div>
          <div class="label">Minutos</div>
        </div>
        <div class="countdown-item">
          <div class="number">{{ formatNumber(countdown().seconds) }}</div>
          <div class="label">Segundos</div>
        </div>
      </div>
    } @else {
      <div class="wedding-day-message">
        <h3>Â¡El gran dÃ­a ha llegado! ðŸŽ‰</h3>
      </div>
    }
  </div>

</section>
